{% extends 'catalog_app/base.html' %}

{% block content %}
    {% load tags %}
    <div class="container">
        <div class="card text-center">
            <div class="card-header">
                <h1 class="card-title mb-0">{{ object.name }}</h1>
                <small class="text-muted">{{ object.category }}</small>
            </div>
            <img class="card-img-top mx-auto mt-3" src="{% mediapath object.image %}" alt="Card image cap"
                 style="width: 300px; height: 300px;">
            <div class="card-body">
                <p class="lead">{{ object.description }}</p>


                <h4 class="card-title">{{ object.price }} руб.</h4>
                <a href="#" class="btn btn-primary">Купить</a>
                <a href="{% url 'catalog_app:product_list' %}" class="btn btn-info">Каталог товаров</a>
                <br><br>
                {% if perms.catalog_app.change_description_product %}
                    <a href="{% url 'catalog_app:product_description' object.pk %}" class="btn btn-outline-secondary">Изменить
                        описание</a>
                {% endif %}
                {% if perms.catalog_app.change_product or object.user == user %}
                    <a href="{% url 'catalog_app:product_update' object.pk %}" class="btn btn-outline-warning">Изменить
                        продукт</a>
                {% endif %}
                {% if perms.catalog_app.product_delete %}
                    <a href="{% url 'catalog_app:product_delete' object.pk %}" class="btn btn-outline-danger">Удалить
                        продукт</a>
                {% endif %}
            </div>
            <div class="card-footer">
                <small class="text-muted">{{ object.changed_date | date }}</small>

            </div>{% if perms.catalog_app.set_published_product %}
            {% if object.is_published == True %}
                <a href="{% url 'catalog_app:change_is_published' object.pk %}" class="btn btn-outline-danger">Снять
                    с
                    публикации</a>
            {% else %}
                <a href="{% url 'catalog_app:change_is_published' object.pk %}" class="btn btn-outline-primary">Опубликовать</a>
            {% endif %}
        {% endif %}
        </div>
    </div>

    <style>
        .card-header {
            background-color: #f8f9fa;
        }

        .card-footer {
            background-color: #f8f9fa;
        }
    </style>
{% endblock %}


